(this["webpackJsonpmy-task"]=this["webpackJsonpmy-task"]||[]).push([[0],{30:function(t,e,n){},58:function(t,e,n){"use strict";n.r(e);var a=n(1),i=n.n(a),s=n(12),c=n.n(s),r=(n(30),n(4)),d=n(11),o=n(24),u="ADD_TASK",l="EDIT_TASK",h="GET_TASK",b="SINGLE_TASK",j="DELETE_TASK",g="ASSIGN_USER",k={},f={},p={},m={},O=[],y={},v=Object(d.b)({addTask:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(e.type){case u:return e.task;default:return t}},editTask:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(e.type){case l:return e.task;default:return t}},getTask:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(e.type){case h:return e.task;default:return t}},singleTask:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(e.type){case b:return e.task;default:return t}},deleteTask:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(e.type){case j:return e.task;default:return t}},assignUser:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(e.type){case g:return e.users;default:return t}}}),T=Object(d.c)(v,Object(d.a)(o.a)),x=n(3),_=n(6),D=n.n(_),C="Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE2MjgyMzIyMzAsIm5iZiI6MTYyODIzMjIzMCwianRpIjoiN2Q5OTAxMTItOGVhZC00MDE1LWFiYTYtZWRiOTY5MDBlODkyIiwiaWRlbnRpdHkiOnsibmFtZSI6Ik1haGkgTVNEIENTSyBDYXB0YWluIiwiZW1haWwiOiJnb29kQHRlc3QzLmNvbSIsInVzZXJfaWQiOiJ1c2VyXzQxYzFkNDg1NjRhODQzNWQ4MTU2NDM5OTZkOWEzODhmIiwiaWNvbiI6Imh0dHA6Ly93d3cuZ3JhdmF0YXIuY29tL2F2YXRhci9mZDE3ZDIwNjUwYzk5NTk0YWVmNmQxMjVhMjU5ODdlYT9kZWZhdWx0PWh0dHBzJTNBJTJGJTJGczMuc2xvb3ZpLmNvbSUyRmF2YXRhci1kZWZhdWx0LWljb24ucG5nIiwiYnlfZGVmYXVsdCI6Im91dHJlYWNoIn0sImZyZXNoIjpmYWxzZSwidHlwZSI6ImFjY2VzcyJ9.ZpkktdGIMmkdY4Nsd3eIi4Ig44wWDrTi-aLMBU9Cxws",I="company_0336d06ff0ec4b3b9306ddc288482663",S="https://stage.api.sloovi.com/task/lead_c1de2c7b9ab94cb9abad131b7294cd8b",E={getTaskData:function(){return D.a.get("".concat(S,"?company_id=").concat(I),{headers:{Authorization:C}}).then((function(t){return t}))}},A={singleTaskData:function(t){return D.a.get("".concat(S,"/").concat(t,"?company_id=").concat(I),{headers:{Authorization:C}}).then((function(t){return t}))}},w={addTaskData:function(t){return D.a.post("".concat(S,"?company_id=").concat(I),t,{headers:{Authorization:C}}).then((function(t){return t}))}},z={editTaskData:function(t,e){return D.a.put("".concat(S,"/").concat(e,"?company_id=").concat(I),t,{headers:{Authorization:C}}).then((function(t){return t}))}},N={deleteTaskData:function(t){return D.a.delete("".concat(S,"/").concat(t,"?company_id=").concat(I),{headers:{Authorization:C}}).then((function(t){return t}))}},W={assignUserData:function(){return D.a.get("https://stage.api.sloovi.com/team?company_id=".concat(I,"&product=outreach"),{headers:{Authorization:C}}).then((function(t){return t}))}},Y=n(25),Z=n(7),J=n(8),L=n(5),M=n(10),U=n(9),B=n(0),F={paddingLeft:5,height:34,marginBottom:10,width:"97%",marginRight:10},R=function(t){var e=t.onChange,n=t.name,a=t.type,i=t.value,s=t.label;return Object(B.jsxs)("label",{style:{width:"97%"},children:[s,Object(B.jsx)("br",{}),Object(B.jsx)("input",{style:F,onChange:e,name:n,type:a,value:i})]})};R.defaultProps={type:"text",onChange:function(){}};var G=R,Q={paddingLeft:5,height:36,marginBottom:10,width:"100%"},V=function(t){Object(M.a)(n,t);var e=Object(U.a)(n);function n(t){var a;return Object(Z.a)(this,n),(a=e.call(this,t)).handleChange=a.handleChange.bind(Object(L.a)(a)),a}return Object(J.a)(n,[{key:"handleChange",value:function(t){this.props.handleChange(t.target.value)}},{key:"render",value:function(){var t=this.props,e=t.options,n=t.value;return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)("p",{style:{paddingBottom:1,margin:0},children:"Assign user"}),Object(B.jsx)("select",{value:n,onChange:this.handleChange,style:Q,children:e.map((function(t){return Object(B.jsx)("option",{value:t.value,children:t.label},t.value)}))})]})}}]),n}(i.a.Component),X={display:"flex"},H={display:"flex",justifyContent:"flex-end"},K={backgroundColor:"#5af75a",border:0,padding:8,paddingLeft:20,paddingRight:20,marginLeft:5},P={backgroundColor:"transparent",border:0},q=function(t){Object(M.a)(n,t);var e=Object(U.a)(n);function n(t){var a;return Object(Z.a)(this,n),(a=e.call(this,t)).state={task_date:"",task_time:"",task_msg:"",assigned_user:"user_41c1d48564a8435d815643996d9a388f",editId:"",editStatus:!1},a.handleChange=a.handleChange.bind(Object(L.a)(a)),a.handleEdit=a.handleEdit.bind(Object(L.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(L.a)(a)),a}return Object(J.a)(n,[{key:"componentDidMount",value:function(){this.setState({editId:this.props.editData.id})}},{key:"handleChange",value:function(t){var e=t.target,n=e.name,a=e.value;this.setState(Object(Y.a)({},n,a))}},{key:"handleEdit",value:function(t){var e=this;t.preventDefault();var n=this.state,a=n.task_msg,i=n.task_date,s=n.task_time,c=n.time_zone,r=n.editId,d=this.props.editData,o={assigned_user:d.assigned_user,task_date:Object(x.isEmpty)(i)?d.task_date:i,task_msg:Object(x.isEmpty)(a)?d.task_msg:a,task_time:Object(x.isEmpty)(s)?d.task_time:s,is_completed:1,time_zone:Object(x.isEmpty)(c)?d.time_zone:c};this.props.editTaskAction(o,r).then((function(t){alert(t.task.data.message),e.setState({task_date:"",task_time:"",task_msg:"",editStatus:!1})})).catch((function(t){console.log(t)}))}},{key:"handleSubmit",value:function(t){var e=this;t.preventDefault();var n=this.state,a=n.task_date,i=n.task_time,s=n.task_msg,c=n.assigned_user,r=60*-new Date(a).getTimezoneOffset(),d=i.split(":").reduce((function(t,e){return+e+60*t}),0)/60,o={assigned_user:c,task_date:a,task_msg:s,task_time:86400*Number(d),is_completed:1,time_zone:r};this.props.addTaskAction(o).then((function(t){alert(t.task.data.message),e.setState({task_date:"",task_time:"",task_msg:""})})).catch((function(t){console.log(t)}))}},{key:"render",value:function(){var t=this.props.assignUsers,e=this.state,n=e.task_date,a=e.task_time,i=e.task_msg,s=e.editStatus,c=[],r=!Object(x.isEmpty)(t)&&!Object(x.isEmpty)(t.results)&&t.results.data,d=!Object(x.isEmpty)(r)&&r.filter((function(t){return"accepted"===t.user_status}));return Object(x.isEmpty)(r)||d.forEach((function(t){c.push({label:t.name,value:t.user_id})})),Object(B.jsx)("div",{children:Object(B.jsxs)("form",{children:[Object(B.jsx)(G,{label:"Task Description",type:"text",name:"task_msg",value:i,onChange:this.handleChange}),Object(B.jsxs)("div",{style:X,children:[Object(B.jsx)(G,{label:"Date",type:"date",name:"task_date",value:n,onChange:this.handleChange}),Object(B.jsx)(G,{label:"Time",type:"time",name:"task_time",value:a,onChange:this.handleChange})]}),Object(B.jsx)(V,{options:c}),Object(B.jsxs)("div",{style:H,children:[Object(B.jsx)("button",{style:P,children:"Cancel"}),s?Object(B.jsx)("button",{onClick:this.handleEdit,style:K,children:"Update"}):Object(B.jsx)("button",{onClick:this.handleSubmit,style:K,children:"Save"})]})]})})}}],[{key:"getDerivedStateFromProps",value:function(t,e){return t.editData.id!==e.editData?{editStatus:!0}:{editStatus:!1}}}]),n}(i.a.Component),$=Object(r.b)(null,{addTaskAction:function(t){return function(e){return w.addTaskData(t).then((function(t){return e({type:u,task:t})}))}},editTaskAction:function(t,e){return function(n){return z.editTaskData(t,e).then((function(t){return n({type:l,task:t})}))}}})(q),tt=function(t){Object(M.a)(n,t);var e=Object(U.a)(n);function n(){return Object(Z.a)(this,n),e.apply(this,arguments)}return Object(J.a)(n,[{key:"handleDelete",value:function(t){this.props.deleteTaskAction(t),alert("Deleted Succesfully")}},{key:"handleEdit",value:function(t){this.props.singleTaskAction(t)}},{key:"render",value:function(){var t=this,e=this.props.data;return Object(B.jsxs)("table",{style:{width:400,marginLeft:60},children:[Object(B.jsxs)("tr",{style:{textAlign:"left"},children:[Object(B.jsx)("th",{children:"Task"}),Object(B.jsx)("th",{children:"Date"})]}),e.map((function(e,n){return Object(B.jsxs)("tr",{children:[Object(B.jsx)("td",{children:e.task_msg}),Object(B.jsx)("td",{children:e.task_date}),Object(B.jsx)("td",{children:Object(B.jsx)("button",{onClick:t.handleDelete.bind(t,e.id),children:"Delete"})}),Object(B.jsx)("td",{children:Object(B.jsx)("button",{onClick:t.handleEdit.bind(t,e.id),children:"Edit"})})]},e.id)}))]})}}]),n}(i.a.Component),et=Object(r.b)(null,{deleteTaskAction:function(t){return function(e){N.deleteTaskData(t).then((function(t){return e({type:j,task:t})}))}},singleTaskAction:function(t){return function(e){return A.singleTaskData(t).then((function(t){return e({type:b,task:t})}))}}})(tt),nt={width:400,borderWidth:1,borderColor:"#000",borderStyle:"solid",marginTop:60,marginLeft:60},at={backgroundColor:"#ccc",paddingLeft:10},it={backgroundColor:"#d2fcfd",padding:10},st={backgroundColor:"#fff",height:70,borderBottomWidth:5,borderBottomStyle:"solid",borderColor:"#f3f0f0"},ct={backgroundColor:"#555",width:"15%",height:"100vh"},rt={width:"85%"},dt={display:"flex"};var ot=Object(r.b)((function(t){return console.log(t),{assignUsers:t.assignUser.data,getTask:t.getTask.data,singleTask:t.singleTask.data}}),{assignUserAction:function(){return function(t){return W.assignUserData().then((function(e){return t({type:g,users:e})}))}},getTaskAction:function(){return function(t){return E.getTaskData().then((function(e){return t({type:h,task:e})}))}}})((function(t){var e=t.assignUserAction,n=t.assignUsers,i=t.getTaskAction,s=t.getTask,c=t.singleTask;Object(a.useEffect)((function(){e(),i()}),[]);var r=!Object(x.isEmpty)(s)&&s.results,d=!Object(x.isEmpty)(c)&&c.results;return Object(B.jsx)(B.Fragment,{children:Object(B.jsxs)("div",{style:dt,children:[Object(B.jsx)("aside",{style:ct}),Object(B.jsxs)("div",{style:rt,children:[Object(B.jsx)("header",{style:st}),Object(B.jsxs)("div",{style:nt,children:[Object(B.jsx)("div",{style:at,children:Object(B.jsx)("h5",{style:{margin:0,padding:10},children:"Task 0"})}),Object(B.jsx)("div",{style:it,children:Object(B.jsx)($,{assignUsers:n,editData:d})})]}),!Object(x.isEmpty)(r)&&Object(B.jsx)(et,{data:r})]})]})})}));var ut=function(t){return Object(B.jsx)(r.a,{store:T,children:Object(B.jsx)("div",{className:"App",children:Object(B.jsx)(ot,{})})})},lt=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,59)).then((function(e){var n=e.getCLS,a=e.getFID,i=e.getFCP,s=e.getLCP,c=e.getTTFB;n(t),a(t),i(t),s(t),c(t)}))};c.a.render(Object(B.jsx)(i.a.StrictMode,{children:Object(B.jsx)(ut,{})}),document.getElementById("root")),lt()}},[[58,1,2]]]);
//# sourceMappingURL=main.fee342fb.chunk.js.map